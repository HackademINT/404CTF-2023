#ifndef subprocess
#define subprocess

#include <Windows.h>
#include <string>

using std::string;

typedef unsigned char BYTE;

class Subprocess {
	HANDLE stdinReadHandle, stdinWriteHandle, stdoutReadHandle, stdoutWriteHandle;
	PROCESS_INFORMATION processInfo;
public:
	Subprocess(string cmdline);
	bool isAlive();
	size_t read(BYTE* buffer, size_t size);
	bool write(BYTE* buffer, size_t size);
	int getProcessId();
};

#endif // !subprocess
