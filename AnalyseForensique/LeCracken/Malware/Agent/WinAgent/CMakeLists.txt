# CMakeList.txt : projet CMake pour WinAgent, incluez la source et définissez
# la logique spécifique au projet ici.
#

# Ajoutez une source à l'exécutable de ce projet.

add_link_options(
        /SUBSYSTEM:WINDOWS
        /DYNAMICBASE
        /MACHINE:X64
)

add_executable (WinAgent "WinAgent.cpp" "WinAgent.h" "C2.cpp" "C2.h" "base64.cpp" "base64.h" "utils.cpp" "utils.h" "subprocess.cpp" "subprocess.h" "crypto.cpp" "crypto.h" agent.rc)
target_link_libraries(WinAgent dnsapi.lib Ws2_32.lib Bcrypt.lib Crypt32.lib)

if (CMAKE_VERSION VERSION_GREATER 3.12)
  set_property(TARGET WinAgent PROPERTY CXX_STANDARD 20)
endif()
# TODO: Ajoutez des tests et installez des cibles si nécessaire.
